{% extends "_base.html" %}
{% from "_macros.html" import render_field %}


{% block header_title %}Group list{% endblock %}

{% block main_content %}
<div class="row">
    <div class="col-md-12">
        <h4>Groups  <a type="button" class="btn btn-info btn-xs" href="{{ url_for('group_views.group_add') }}">Create new group</a></h4>
        <table class="table table-striped">
            <thead>
                <tr> <th>Edit</th><th>Group Name</th><th>Group ID</th><th>Members</th></tr>
            </thead>
            <tbody>
                {% for g in groups %}
                    <tr> <td><a href="{{ url_for('group_views.group_edit', group_id = g.group_id) }}"><span class="glyphicon glyphicon-pencil" aria-hidden="true"></span></a></td><td>{{ g.group_name }}</td><td>{{ g.group_id }}</td><td><ul class="list-unstyled">{% for n in g.group_members %}<li>{{ n|name_from_id }}</li>{% endfor %}</ul></td></tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>

{% endblock %}

{% block js_end_libs %}
{% endblock %}

{% block end_js %}
{% endblock %}